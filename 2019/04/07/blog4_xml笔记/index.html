<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>xml笔记 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="xml的作用 Extensible Markup Language：可扩展标记语言 用于数据存储 作为配置文件(标签灵活，语法严格) 用于网络数据中的数据传输(跨平台)   XML与HTML     项目 XML HTML     标签 自定义 预定义   语法 严格 松散   用途 存储数据 展示数据    xml的组成 文档声明 格式：&amp;lt;?xml 属性列表 ?&amp;gt; 属性列表: ver">
<meta property="og:type" content="article">
<meta property="og:title" content="xml笔记">
<meta property="og:url" content="http://yoursite.com/2019/04/07/blog4_xml笔记/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="xml的作用 Extensible Markup Language：可扩展标记语言 用于数据存储 作为配置文件(标签灵活，语法严格) 用于网络数据中的数据传输(跨平台)   XML与HTML     项目 XML HTML     标签 自定义 预定义   语法 严格 松散   用途 存储数据 展示数据    xml的组成 文档声明 格式：&amp;lt;?xml 属性列表 ?&amp;gt; 属性列表: ver">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-04-07T02:38:53.065Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="xml笔记">
<meta name="twitter:description" content="xml的作用 Extensible Markup Language：可扩展标记语言 用于数据存储 作为配置文件(标签灵活，语法严格) 用于网络数据中的数据传输(跨平台)   XML与HTML     项目 XML HTML     标签 自定义 预定义   语法 严格 松散   用途 存储数据 展示数据    xml的组成 文档声明 格式：&amp;lt;?xml 属性列表 ?&amp;gt; 属性列表: ver">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-blog4_xml笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/04/07/blog4_xml笔记/" class="article-date">
  <time datetime="2019-04-07T02:35:37.597Z" itemprop="datePublished">2019-04-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      xml笔记
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="xml的作用"><a href="#xml的作用" class="headerlink" title="xml的作用"></a>xml的作用</h2><ul>
<li><h5 id="Extensible-Markup-Language：可扩展标记语言"><a href="#Extensible-Markup-Language：可扩展标记语言" class="headerlink" title="Extensible Markup Language：可扩展标记语言"></a>Extensible Markup Language：可扩展标记语言</h5></li>
<li><h5 id="用于数据存储"><a href="#用于数据存储" class="headerlink" title="用于数据存储"></a>用于数据存储</h5><ol>
<li>作为配置文件(标签灵活，语法严格)</li>
<li>用于网络数据中的数据传输(跨平台)</li>
</ol>
</li>
<li><h5 id="XML与HTML"><a href="#XML与HTML" class="headerlink" title="XML与HTML"></a>XML与HTML</h5></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">项目</th>
<th style="text-align:center">XML</th>
<th style="text-align:center">HTML</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">标签</td>
<td style="text-align:center">自定义</td>
<td style="text-align:center">预定义</td>
</tr>
<tr>
<td style="text-align:left">语法</td>
<td style="text-align:center">严格</td>
<td style="text-align:center">松散</td>
</tr>
<tr>
<td style="text-align:left">用途</td>
<td style="text-align:center">存储数据</td>
<td style="text-align:center">展示数据</td>
</tr>
</tbody>
</table>
<h2 id="xml的组成"><a href="#xml的组成" class="headerlink" title="xml的组成"></a>xml的组成</h2><ul>
<li><h5 id="文档声明"><a href="#文档声明" class="headerlink" title="文档声明"></a>文档声明</h5><ul>
<li>格式：&lt;?xml 属性列表 ?&gt;</li>
<li>属性列表:<ul>
<li>version 版本号</li>
<li>encoding 编码方式（告知解析引擎当前文档的编码，如果与实际文档编码不匹配会解析报错）默认编码 ISO-8859-1</li>
<li>standalone 是否独立<ul>
<li>yes 不依赖其他文件</li>
<li>no 依赖其他文件</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h5 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h5><ul>
<li>&lt;标签&gt;&lt;/标签&gt;</li>
<li>名称：自定义</li>
<li>属性：自定义</li>
</ul>
</li>
<li><h5 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h5><ul>
<li>&lt;标签&gt;文档内容&lt;/标签&gt;</li>
<li>内容：自定义</li>
<li>数据原样展示(特殊字符不解析)：CDATA区<ul>
<li>&lt;![CDATA[要展示的数据]]&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="xml的约束"><a href="#xml的约束" class="headerlink" title="xml的约束"></a>xml的约束</h2><h4 id="什么是约束文档"><a href="#什么是约束文档" class="headerlink" title="什么是约束文档"></a>什么是约束文档</h4><ul>
<li><h5 id="规定xml的标签规则的文档"><a href="#规定xml的标签规则的文档" class="headerlink" title="规定xml的标签规则的文档"></a>规定xml的标签规则的文档</h5><ul>
<li>程序规定xml标签规则，用户按规则编写</li>
<li>用户编写xml,程序解析</li>
</ul>
</li>
</ul>
<h4 id="约束文档技术分类"><a href="#约束文档技术分类" class="headerlink" title="约束文档技术分类"></a>约束文档技术分类</h4><ol>
<li><h5 id="DTD"><a href="#DTD" class="headerlink" title="DTD"></a>DTD</h5></li>
</ol>
<ul>
<li>相对简单的约束技术</li>
<li>引入<ul>
<li>内部引入： <ul>
<li>直接将约束规则定义在xml文件中&lt;!DOCTYPE 跟标签名称 [ …具体的约束规则… ] &gt;</li>
</ul>
</li>
<li>外部引入：<ul>
<li>本地引入: &lt;!DOCTYPE SYSTEM “dtd文件位置”&gt;</li>
<li>网络引入: &lt;!DOCTYPE PUBLIC “dtd文件名字” “dtd文件url”&gt; </li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="2">
<li><h5 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h5></li>
</ol>
<ul>
<li>相对复杂的约束技术<ul>
<li>不仅是对标签进行约束，对内容也能进行更加细致的约束</li>
<li>本质上也是一个xml文件</li>
</ul>
</li>
<li>引入<ul>
<li>填写xml文档的根元素</li>
<li>引入xsi前缀(由w3c规定，有多个版本，按需引入)： <ul>
<li>xmlns:xsi=”<a href="http://www.w3.org/2001/XMLSchema-instance&quot;" target="_blank" rel="noopener">http://www.w3.org/2001/XMLSchema-instance&quot;</a></li>
</ul>
</li>
<li>引入xsd文件命名空间： <ul>
<li>xsi:schemaLocation=”xsd文件所在包  xsd文件url”</li>
</ul>
</li>
<li>为每一个xsd文件声明一个前缀作为标识(区分名字相同的标签属于哪个xsd文件)：<ul>
<li>xmlns:xxx=”xsd文件url” </li>
<li>xxx可以留空不写，同时一般是同时引入多个约束时加上用以区分</li>
</ul>
</li>
<li>例子: spring的Schema约束：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  &lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">xmlns=&quot;http://www.springframework.org/schema/beans&quot; </span><br><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">xmlns:services=&quot;http://www.tesla.com/schema/services&quot; </span><br><span class="line">xmlns:functions=&quot;http://www.tesla.com/schema/services/functions&quot;</span><br><span class="line">xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">xsi:schemaLocation=&quot;</span><br><span class="line">	http://www.springframework.org/schema/beans </span><br><span class="line">	http://localhost:8080/schema/www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">	http://www.springframework.org/schema/tx </span><br><span class="line">	http://localhost:8080/schema/www.springframework.org/schema/tx/spring-tx-3.1.xsd</span><br><span class="line">	http://www.springframework.org/schema/context </span><br><span class="line">	http://localhost:8080/schema/www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">	http://www.tesla.com/schema/services </span><br><span class="line">	http://localhost:8080/schema/services.xsd</span><br><span class="line">	http://www.tesla.com/schema/services/functions </span><br><span class="line">	http://localhost:8080/schema/services-functions.xsd&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="操作xml"><a href="#操作xml" class="headerlink" title="操作xml"></a>操作xml</h2><ul>
<li><h4 id="解析方式"><a href="#解析方式" class="headerlink" title="解析方式"></a>解析方式</h4><ul>
<li>DOM 将标记语言文档一次性加载进内存，在内存中形成一棵DOM树<ul>
<li>优点：操作方便，可以进行CRUD所有操作</li>
<li>缺点：占用大量内存资源</li>
</ul>
</li>
<li>SAX 逐行读取(读一行释放一行)，基于事件驱动(监听器)<ul>
<li>优点：内存占用小</li>
<li>缺点：只能读，不能增删改</li>
</ul>
</li>
</ul>
</li>
<li><h4 id="常见解析工具"><a href="#常见解析工具" class="headerlink" title="常见解析工具"></a>常见解析工具</h4><ul>
<li>JAXP 同时支持DOM和SAX两种思想</li>
<li>Dom4j 常用</li>
<li>Jsoup HTML的解析器，也支持解析XML，常用</li>
<li>PULL 安卓内置，SAX方式</li>
</ul>
</li>
<li><h4 id="Jsoup"><a href="#Jsoup" class="headerlink" title="Jsoup"></a>Jsoup</h4><ul>
<li><h5 id="解析：将xml文档中的内容加载到内存"><a href="#解析：将xml文档中的内容加载到内存" class="headerlink" title="解析：将xml文档中的内容加载到内存"></a>解析：将xml文档中的内容加载到内存</h5><ul>
<li><h6 id="获取对象"><a href="#获取对象" class="headerlink" title="获取对象"></a>获取对象</h6><ol>
<li><p>Jsoup 工具类，可以解析HTML或HTML,返回Document对象</p>
<ul>
<li>parse 解析HTML或HTML，返回Document对象<ul>
<li>读取HTML或XML文件<ul>
<li>parse​(File in, String charsetName) </li>
</ul>
</li>
<li>解析HTML或XML字符串<ul>
<li>parse(String html) </li>
</ul>
</li>
<li>通过url获取HTML或XML，进行解析<ul>
<li>parse(URL url, int timeoutMillis) </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Document 文档对象，代表内存中的DOM树</p>
<ul>
<li>获取Element对象(类似于js的语法)<ul>
<li>getElementByXXX()<ul>
<li>getElementById​(String id)：根据id属性值获取唯一的element对象</li>
</ul>
</li>
<li>getElementsByXXX()<ul>
<li>getElementsByTag​(String tagName)：根据标签名称获取元素对象集合</li>
<li>getElementsByAttribute​(String key)：根据属性名称获取元素对象集合</li>
<li>getElementsByAttributeValue​(String key, String value)：根据对应的属性名和属性值获取元素对象集合</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Elements<ul>
<li>Element对象的集合，当作ArrayList<element>使用即可</element></li>
</ul>
</li>
<li>Element<ul>
<li>获取子元素对象<ul>
<li>同Document的API，getElementByXXX()/getElementsByXXX()</li>
</ul>
</li>
<li>获取属性值<ul>
<li>String attr(String key) 根据属性名称获取属性值</li>
</ul>
</li>
<li>获取文本内容<ul>
<li>String text() 获取文本内容</li>
<li>String html() 获取标签内的所有内容(包括子标签，以字符串的形式)</li>
</ul>
</li>
</ul>
</li>
<li>Node<ul>
<li>Document和Element的父类</li>
</ul>
</li>
</ol>
</li>
<li><h6 id="快捷查询：快速获取对象，而不是一层一层剥离"><a href="#快捷查询：快速获取对象，而不是一层一层剥离" class="headerlink" title="快捷查询：快速获取对象，而不是一层一层剥离"></a>快捷查询：快速获取对象，而不是一层一层剥离</h6><ol>
<li>selector: 选择器<ul>
<li>使用方法参考Selector类的API</li>
</ul>
</li>
<li>XPath: XML路径语言,用于快速定位XML中某部分文档的位置<ul>
<li>使用方法参考 <a href="http://www.w3school.com.cn/x.asp" target="_blank" rel="noopener">w3school</a></li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><h5 id="写入：将内存中的数据保存到xml文档，持久化存储"><a href="#写入：将内存中的数据保存到xml文档，持久化存储" class="headerlink" title="写入：将内存中的数据保存到xml文档，持久化存储"></a>写入：将内存中的数据保存到xml文档，持久化存储</h5><ul>
<li></li>
</ul>
</li>
</ul>
</li>
<li><h4 id="Dom4j"><a href="#Dom4j" class="headerlink" title="Dom4j"></a>Dom4j</h4><ul>
<li><h5 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h5><ul>
<li><h6 id="获取对象-1"><a href="#获取对象-1" class="headerlink" title="获取对象"></a>获取对象</h6><ol>
<li>Doument<ul>
<li>读取XML文件获得Document<ul>
<li>SAXReader reader = new SAXReader()；</li>
<li>Document document = reader.read(new File(“xxx.xml”))；</li>
</ul>
</li>
<li>解析XML字符串获得Document<ul>
<li>Document document = DocumentHelper.parseText(“<abc></abc>“)；</li>
</ul>
</li>
<li>主动创建Document<ul>
<li>Document document = DocumentHelper.createDocument()；</li>
</ul>
</li>
</ul>
</li>
<li>Element<ul>
<li>获取文档根节点<ul>
<li>Element root = document.getRootElement()；</li>
</ul>
</li>
<li>根据名称获取子节点<ul>
<li>Element element = node.element(“节点名称”)；</li>
</ul>
</li>
<li>获取子节点列表<ul>
<li>List nodes = node.elements(“可以指定名称”)；</li>
</ul>
</li>
<li>获取节点文本内容<ul>
<li>String text = node.getText();</li>
</ul>
</li>
</ul>
</li>
<li>Attribute<ul>
<li>获取属性对象<ul>
<li>Attribute attribute= node.attribute(“属性名称”);</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
<li><h6 id="操作对象"><a href="#操作对象" class="headerlink" title="操作对象"></a>操作对象</h6><ul>
<li>新增<ul>
<li>添加子节点<ul>
<li>Element newElm = element.addElement(“名称”)；</li>
</ul>
</li>
<li>添加CDATA节点<ul>
<li>newElm.addCDTAA(“具体内容”)</li>
</ul>
</li>
</ul>
</li>
<li>修改<ul>
<li>设置节点属性<ul>
<li>element.setXXX(“属性值”)；</li>
</ul>
</li>
</ul>
</li>
<li>删除<ul>
<li>删除子节点<ul>
<li>parentElement.remove(childElment);</li>
</ul>
</li>
<li>删除属性<ul>
<li>element.remove(要删除的attribute对象)；</li>
</ul>
</li>
<li></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><h5 id="写入"><a href="#写入" class="headerlink" title="写入"></a>写入</h5><ol>
<li><p>将Document对象写入XML文件</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> // 文件输出的时候自动缩进</span><br><span class="line"> OutputFormat format = OutputFormat.cretaePrettyPrint()；</span><br><span class="line">          // 设置文档编码格式</span><br><span class="line"> format.setEncoding(&quot;UTF-8&quot;);</span><br><span class="line">          XMLWriter writer = new XMLWriter(new FileWriter(&quot;xxx.xml&quot;),format);</span><br><span class="line"> writer.write(document);</span><br><span class="line"> writer.close;</span><br><span class="line"> ``` </span><br><span class="line"></span><br><span class="line">2. 将Document和Element对象转换为字符串</span><br></pre></td></tr></table></figure>
<p> // 获取Document对象<br> SAXReader reader = new SAXReader();<br> Document document = reader.read(new File(“xxx.xml”));<br> // 获取根节点对象<br> Element root = document.getRootElement();<br> // 将document转换为字符串<br> String docXmlText = document.asXML();<br> // 将根节点转换为字符串<br> String elmXmlText = root.asXML();<br> <code>`</code></p>
</li>
</ol>
</li>
</ul>
</li>
</ul>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><h6 id="w3school-XML-系列教程"><a href="#w3school-XML-系列教程" class="headerlink" title="w3school|XML 系列教程"></a><a href="http://www.w3school.com.cn/x.asp" target="_blank" rel="noopener">w3school|XML 系列教程</a></h6><h6 id="使用Dom4j解析XML"><a href="#使用Dom4j解析XML" class="headerlink" title="使用Dom4j解析XML"></a><a href="https://blog.csdn.net/redarmy_chen/article/details/12969219" target="_blank" rel="noopener">使用Dom4j解析XML</a></h6>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/04/07/blog4_xml笔记/" data-id="cjugz4ae600038oss7rnmk7n2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/04/07/blog5_设计模式/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          设计模式
        
      </div>
    </a>
  
  
    <a href="/2019/03/31/blog3_webservice笔记/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Web services笔记</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/04/14/blog6_java打包/">java打包</a>
          </li>
        
          <li>
            <a href="/2019/04/07/blog5_设计模式/">设计模式</a>
          </li>
        
          <li>
            <a href="/2019/04/07/blog4_xml笔记/">xml笔记</a>
          </li>
        
          <li>
            <a href="/2019/03/31/blog3_webservice笔记/">Web services笔记</a>
          </li>
        
          <li>
            <a href="/2019/03/27/blog2_使用Hexo搭建个人博客/">通过Hexo搭建个人博客</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>